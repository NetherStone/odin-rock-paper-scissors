<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Project: Rock Paper Scissors </title>
</head>
<body>
  <script>
    function getComputerChoice() { // Computer to randomly pick one
        const choices = ["Rock", "Paper", "Scissors"];
        return choices[Math.floor(Math.random() * 3)];
    }

    function playRound(playerSelection, computerSelection) { 
        let matchResult = ""; // For outcome, draw, win or lose
        let declareResult = ""; // For text/string to be returned based on matchResult

        let playerChoice = playerSelection.toLowerCase(); // Non-case sensitive...Assuming user/player types input correctly
        playerChoice = playerChoice.charAt(0).toUpperCase() + playerChoice.slice(1);

        console.log(`You picked ${playerChoice}, while the computer picked ${computerSelection}.`);

        if (playerChoice === computerSelection) { // Draw 
            matchResult = "Draw";
        } else if (playerChoice === "Rock" && computerSelection === "Scissors") { // All scenarios for winning
            matchResult = "Win";
        } else if (playerChoice === "Paper" && computerSelection === "Rock"){
            matchResult = "Win";
        } else if (playerChoice === "Scissors" && computerSelection === "Paper"){
            matchResult = "Win";
        } else { // What's left are scenarios for losing
            matchResult = "Lose";
        }

        if (matchResult === "Draw") { // Determining string to be returned
            declareResult = "Draw! Both you and the computer picked the same!"
        } else if (matchResult === "Win") {
            declareResult = `You Win! ${playerChoice} beats ${computerSelection}.`;
        } else if (matchResult === "Lose") {
            declareResult = `You Lose! ${computerSelection} beats ${playerChoice}.`;
        }

        return declareResult;
    }

    function game() {
        let computerSelection = getComputerChoice();
        console.log(playRound(playerSelection, computerSelection));
        }

    const rockButton = document.createElement('button'); //buttons
    rockButton.textContent = 'Rock';
    rockButton.id = 'rockID';

    const paperButton = document.createElement('button');
    paperButton.textContent = 'Paper';
    rockButton.id = 'paperID';

    const scissorsButton = document.createElement('button');
    scissorsButton.textContent = 'Scissors';
    scissorsButton.id = 'scissorsID';

    let playerSelection = null; // initialize playerSelection

    rockButton.addEventListener("click", () => {   //eventlistener for buttons
        let playerSelection = 'Rock';
        console.log(playRound(playerSelection, getComputerChoice()));
    });

    paperButton.addEventListener("click", () => { 
        let playerSelection = 'Paper';
        console.log(playRound(playerSelection, getComputerChoice()));
    });

    scissorsButton.addEventListener("click", () => { 
        let playerSelection = 'Scissors';
        console.log(playRound(playerSelection, getComputerChoice()));
    });

    document.body.appendChild(rockButton)  //append buttons to html
    document.body.appendChild(paperButton)
    document.body.appendChild(scissorsButton)
  </script>
</body>
</html>
